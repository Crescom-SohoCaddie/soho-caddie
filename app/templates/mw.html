<% extends "head.html" %>
<% block content %>

<script src="https://riversun.github.io/jsframe/jsframe.js"></script>

<script>
      const jsFrame = new JSFrame();
      let _left = 500;
      let _top = 200;


      //-------------menu-----------------
      const frame00 = jsFrame.create({
        title: 'menu',
        name: 'menu',
        left: 0, top: 0, width: 200, height: 700,
        url: '/mw-menu',

        urlLoaded: (frame) => {
          frame.on('#invoice', 'click', (_frame, evt) => {
            //jsFrame.showToast({html:'得意先が選択された！'});
            invoice();
          });
          frame.on('#quotation', 'click', (_frame, evt) => {
            //jsFrame.showToast({html:'得意先が選択された！'});
            quotation();
          });
          frame.on('#memo', 'click', (_frame, evt) => {
            //jsFrame.showToast({html:'得意先が選択された！'});
            openWindow('/memo-page');
          });

          frame.on('#my_button_02', 'click', (_frame, evt) => {
            _frame.closeFrame();
            showToast(`${_frame.getName()} closed by clicking ${evt.target.id}`);
          });
        }
      });
      frame00.show();





    //---------invoice--------
    function invoice(){
      const frame01 = jsFrame.create({
      title: 'invoice',
      name: 'invoice',
      left: 400, top: 160, width: 900, height: 700,
      url: '/invoice-page',

      // If you specify "urlLoaded",
      // you can specify a callback when the iframe content is finished loading
      urlLoaded: (frame) => {
        // You can use the on method to register an event listener for an element in an iframe
        frame.on('#my_button_01', 'click', (_frame, evt) => {
          // In this case, frame and _frame refer to the same object.
          showToast(`Clicked ${_frame.getName()}'s ${evt.target.id}`);
        });

        frame.on('#my_button_02', 'click', (_frame, evt) => {
          _frame.closeFrame();
          showToast(`${_frame.getName()} closed by clicking ${evt.target.id}`);
        });

        frame.on('#my_button_03', 'click', (_frame, evt) => {
          showToast(`Clicked ${_frame.getName()}'s ${evt.target.id}`);
        });
      }
    });
    frame01.show();

    }
    //------------------------------
    function quotation(){
      const frame02 = jsFrame.create({
        title: 'quotes',
        name: 'quotes',
        left: 500, top: 260, width: 900, height: 700,
        //URL to display in iframe
        url: '/quotation-page',

        // If you specify "urlLoaded",
        // you can specify a callback when the iframe content is finished loading
        urlLoaded: (frame) => {
          // You can use the on method to register an event listener for an element in an iframe
          frame.on('#my_button_01', 'click', (_frame, evt) => {
            // In this case, frame and _frame refer to the same object.
            jsFrame.showToast(`Clicked ${_frame.getName()}'s ${evt.target.id}`);
          });
        }
      });
      frame02.show();
    }
    //------------------------------
    function openWindow(url){
      const frame = jsFrame.create({
        title: 'quotes',
        name: 'quotes',
        left: _left, top: _top, width: 900, height: 700,
        //URL to display in iframe
        url: url,
      });
      frame.show();
      _left += 50; 
      _top += 50;
      if ( _left > 600 ) _left -= 200   
      if ( _top > 400 ) _top -= 200   
    }
    //start();

            //プリセットアピアランスをプリセット名で指定する
    const frame09 = jsFrame.create({
            title: 'Yosemite style',
            left: 20, top: 20, width: 320, height: 220,
            appearanceName: 'yosemite',//プリセット名は 'yosemite','redstone','popup'
            style: {
                backgroundColor: 'rgba(255,255,255,0.9)',
            },
            html: '<div style="padding:10px;">プリセット名で指定する</div>'
    }).show();

</script>
<!--
<div
        style="font-size: 12px; color: white; position: fixed; right: 10px; bottom: 10px">
</div>

-->

<% endblock %>
