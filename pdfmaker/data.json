{

    "style":{
        "sm_r":{
            "name":         "Normal",
            "alignment":    2,
            "fontName":     "IPAexGothic",
            "fontSize":     11
        },

        "sm_l":{
            "name":         "Normal",
            "alignment":    0,
            "fontName":     "IPAexGothic",
            "fontSize":     11
        },
        "sm_c":{
            "name":         "Normal",
            "alignment":    1,
            "fontName":     "IPAexGothic",
            "fontSize":     11
        },

        "sm_l_b":{
            "name":         "Normal",
            "alignment":    0,
            "fontName":     "IPAexGothic",
            "fontSize":     12
        },

        "md_l_b":{
            "name":         "Normal",
            "alignment":    0,
            "fontName":     "IPAexGothic",
            "fontSize":     15
        },

        "big_center":{
            "name":         "Normal",
            "alignment":    1,
            "fontName":     "IPAexGothic",
            "fontSize":     20,
            "underlineWidth":   0.5,
            "underlineGap":     0,
            "underlineOffset": -5.0,
            "strikeWidth":   0.5,
            "strikeGap" : 0,
            "strikeOffset" : -3.0,
            "leading":2
        },
        "client":{
            "name":         "Normal",
            "alignment":    0,
            "fontName":     "IPAexGothic",
            "fontSize":     18,
            "underlineWidth":   1,
            "underlineGap":     1,
            "underlineOffset": -3.0,
            "textColor": "#000000"
        }  
    },
    "defPdf":{
        "attr":{
            "name": "def_invoice",
            "name_jp":"請求書",
            "page_size": "A4",
            "page_type": "portrait",
            "top_mergin": 15,
            "footter_size": 40    
        },
        "file":{
            "outDir": "./pdf", 
            "file_name": "test.pdf"
        },
        "header":{
            "title": ["EP","_HEAD['category']","big_center"],
            "title_after": ["E","Spacer(0,15*mm)"],
            "table_info":{
                "table":[
                    [ ["EP" ,"_HEAD['clientName']","client"],["EP" ,"_HEAD['dueDate']","sm_r"]],
                    ["",""],
                    ["",["P","株式会社　テストコム","md_l_b"] ],
                    ["",""],
                    ["", ["P","鹿沼店:栃木県鹿沼市板荷0000－99","sm_r"]],
                    ["", ["P","TEL: 0289-000-0000","sm_r"]],
                    ["", ["P","FAX: 0289-000-0001","sm_r"]],
                    ["", ["P","宇都宮店:栃木県宇都宮市鶴田0-00-0","sm_r"]],
                    ["", ["P","TEL: 028-000-0000","sm_r"]],
                    ["", ["EP" ,"_HEAD['person']","sm_l"]]
                ],
                "col_widths": ["E","[110*mm, 70*mm]"],
                "table_style":[
                    ["NOP","('GRID',(0,0),(-1,-1),0.15,colors.black)"],
                    ["E","('SPAN',(0,7),(0,8))"]
                ]
            },
            "table_after": ["E","Spacer(10*mm,5*mm)"]
        },
        "body":{
            "detail":{
                "num_key": "itemNum",
                "num_field": "num",
                "row_max": 12,
                "label_style" : "sm_c",
                "fields":[
                    {  "key": "num"         ,"label": "No." ,  "width": 20 , "p_style":"sm_r","eval":"_ROWNUM+1" },
                    {  "key": "productName" ,"label": "商品名", "width": 90, "p_style":"sm_l" },
                    {  "key": "quantity"    ,"label": "数量",   "width": 15 , "p_style":"sm_r", "format": "{:,}" },
                    {  "key": "unitPrice"   ,"label": "単価",   "width": 25 , "p_style":"sm_r", "format": "{:,}" },
                    {  "key": "price"       ,"label": "金額",   "width": 25 , "p_style":"sm_r", "format": "{:,}" }
                ],
                "styles":[
                    ["E","('FONT', (0, 0), (-1, -1), 'IPAexGothic', 11)"],
                    ["E","('GRID', (0, 0), (-1,-1), 0.25, colors.black)"],
                    ["E","('ALIGN', (0, 0), (-1, 0), 'CENTER')"],
                    ["E","('BACKGROUND', (0, 0), (6, 0), colors.lightgrey)"]
                ]
            },
            "detail_after":{
                "table_info":{
                    "table":[
                        ["",["EPF","'小計(税込)' if _HEAD['tax'] == '税込' else '小計'","sm_l","{:}"], ["EPF","9991", "sm_r","{:,}"]],
                        ["",["EPF","'うち消費税分' if _HEAD['tax'] == '税込' else '消費税分'","sm_l","{:}"], ["EPF","9992","sm_r","{:,}" ]],
                        ["",["P","合計金額","sm_l"] ,["EPF","99997","sm_r","{:,}" ]]
                    ],
                    "col_widths":["E","(60*mm, 75*mm, 40*mm)"],
                    "table_style":[
                        ["E","('LINEBEFORE', (0, 0), (0, -1), 0.15, colors.black)"],
                        ["E","('LINEABOVE', (0, 0), (-1, -1), 0.15, colors.black)"],
                        ["E","('LINEBELOW', (0, 0), (-1, -1), 0.15, colors.black)"],
                        ["E","('GRID',(2,0),(-1,-1),0.15,colors.black)"]
                    ]    
                }
            }    

        },
        "footer":{
            "pos_xy": ["E","(15*mm,10*mm)"],
            "table_info":{
                "table":[
                    ["摘要", "", "", ""],
                    ["","", "", ""]
                ],
                "col_widths": ["E","(110*mm,10*mm,30*mm,30*mm)"],
                "row_Heights": ["E","(8*mm,30*mm)"],
                "table_style":[
                    ["E","('FONT', (0, 0), (-1, -1), 'IPAexGothic', 11)"],
                    ["E","('GRID', (0, 0), (0,1), 0.25, colors.black)"],
                    ["E","('GRID', (2, 0), (3,2), 0.25, colors.black)"],
                    ["E","('VALIGN',(0,1),(0,-1),'TOP')"],
                    ["E","('ALIGN',(0,0),(0,-1),'CENTER')"]
                ]
            },
            "DrawImage":[
                ["('./inkan.png', 490,560,50,50,mask='auto')"],
                ["('./logo2.jpg', 495,675,50,50,mask='auto')"]        
            ]
        }    
    },
    "data": {
        "hdata": [
            {
                "hid": 691,
                "invoiceNo": "20210822001",
                "clientName": "テスト商店",
                "clientClass": "法人",
                "category": "請求書",
                "dueDate": "2021-08-22",
                "person": "小野",
                "memo": "とりあえずメモ",
                "tax": "税込"
            }
        ],
        "bdata": [
            {
                "hid": 691,
                "bid": 1937,
                "itemNum": 1,
                "productName": "草刈機",
                "quantity": 1,
                "unitPrice": 50000,
                "price": 50000
            },
            {
                "hid": 691,
                "bid": 1938,
                "itemNum": 2,
                "productName": "管理機",
                "quantity": 1,
                "unitPrice": 3000,
                "price": 3000
            }
        ],
        "sumdata": {
            "amount": 53000,
            "tax": 5300,
            "total": 58300
        }
    }
}
